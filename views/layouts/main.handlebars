<!DOCTYPE html>
<html lang="en">
<head>
  {{!-- META TAGS --}}
    <meta charset="UTF-8">
    <meta name="description" content="A simple library to take care of complex CSS animations." />
    <meta property="og:image" content="./assets/screenshot.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  {{!-- TITLE --}}
    <title>artHub</title>
  {{!-- HEAD LINKS --}}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css" type="text/css" />
    <!-- link for arthub font family -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Inconsolata|Playfair+Display|Rubik">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izimodal/1.5.0/css/iziModal.min.css">

    <script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  </head>
  {{!-- HANDLEBARS BODY FROM MAIN.HANDLEBARS --}}
    {{{ body }}}
  {{!-- Scripts --}}
     <script src="https://cdnjs.cloudflare.com/ajax/libs/izimodal/1.5.0/js/iziModal.min.js" type="text/javascript"></script>
     // <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/1.1.1/typed.min.js"></script>
      {{!-- TYPED.JS INFO --}}
       <script>
            $(document).on('click', '#imageSave', function(event) {
                    event.preventDefault();
                    var iframe = document.getElementById('insertFunction');
                    var innerDoc = iframe.contentWindow.document;
                    var innerDocCanvas = innerDoc.getElementById('defaultCanvas0');
                    console.log("Inner doc canvas", innerDoc.getElementById('defaultCanvas0'))
                    var canvas = innerDocCanvas.toDataURL();
                    $.post("/", {"image" : canvas});
                });
            $(document).ready(function() {
                console.log('ready');
                setTimeout(function() {
                    $(".element0").typed({
                        strings: ["DRAW SOMETHING", "DRAW WHATEVER", "DRAW DIFFERENTLY", "DRAW SOCIALLY"],
                        typeSpeed: 30, // typing speed
                        backDelay: 750, // pause before backspacing
                        loop: true, // loop on or off (true or false)
                        loopCount: false, // number of loops, false = infinite
                    });
                }, 0);
                // var typed = new Typed(".typed-element", {
                //   // Waits 1000ms after typing "First"
                //   strings: ["This is a JavaScript library", "This is an ES6 module"],
                //   smartBackspace: true // Default value
                // });

                //  try us on click
                $(".canvas-modal").iziModal({
                    width: 800,
                    height: 650,
                    bodyOverflow: true
                });
                //  browse art on click
                $("#columns").iziModal();

                // P5 FUNCTIONS
                $(document).on('click', '#drawShapes', function(event) {
                    event.preventDefault();
                    console.log("clicked drawShapes");
                    $( "#insertFunction" ).attr( "src", "/drawShapes" );
                });

                $(document).on('click', '#trippyGuy', function(event) {
                    event.preventDefault();
                    $( "#insertFunction" ).attr( "src", "/trippyGuy" );
                });

                $(document).on('click', '#frequencyOsc', function(event) {
                    event.preventDefault();
                    $( "#insertFunction" ).attr( "src", "/freqOsc" );
                });

                $(document).on('click', '#drawPath', function(event) {
                    event.preventDefault();
                    $( "#insertFunction" ).attr( "src", "/drawPath" );
                });

                $(document).on('click', '#particles', function(event) {
                    event.preventDefault();
                    $( "#insertFunction" ).attr( "src", "/particles" );
                });
                $(document).on('click', '#song', function(event) {
                    event.preventDefault();
                    console.log("trying to request drawShapes function")
                    $( "#insertFunction" ).attr( "src", "/song" );
                });
            });
        </script>
  </body>
</html>